input = <<~INPUT.strip
###############
#.......#....E#
#.#.###.#.###.#
#.....#.#...#.#
#.###.#####.#.#
#.#.#.......#.#
#.#.#####.###.#
#...........#.#
###.#.#####.#.#
#...#.....#.#.#
#.#.#.###.#.#.#
#.....#...#.#.#
#.###.#.#.#.#.#
#S..#.....#...#
###############
INPUT

input = <<~INPUT.strip
#################
#...#...#...#..E#
#.#.#.#.#.#.#.#.#
#.#.#.#...#...#.#
#.#.#.#.###.#.#.#
#...#.#.#.....#.#
#.#.#.#.#.#####.#
#.#...#.#.#.....#
#.#.#####.#.###.#
#.#.#.......#...#
#.#.###.#####.###
#.#.#...#.....#.#
#.#.#.#####.###.#
#.#.#.........#.#
#.#.#.#########.#
#S#.............#
#################
INPUT

require "rb_heap"

input = DATA.read
map = input.split("\n")

graph = {}
dist = {}
paths = {}
start, stop = [nil, nil]
queue = Heap.new { |a, b| a[0] < b[0] }

map.each_with_index do |row, y|
  row.chars.each_with_index do |elem, x|
    if elem == "S"
      start = [x, y]
    elsif elem == "E"
      stop = [x, y]
    end

    if ".SE".include?(elem)
      dist[[x, y, "H"]] = Float::INFINITY
      dist[[x, y, "V"]] = Float::INFINITY

      paths[[x, y, "H"]] = nil
      paths[[x, y, "V"]] = nil

      graph[[x, y, "H"]] = [[x, y, "V", 1000]]
      graph[[x, y, "V"]] = [[x, y, "H", 1000]]

      if x > 0 && ".SE".include?(row[x-1])
        graph[[x, y, "H"]] << [x-1, y, "H", 1]
      end

      if x < row.size - 1 && ".SE".include?(row[x+1])
        graph[[x, y, "H"]] << [x+1, y, "H", 1]
      end

      if y > 0 && ".SE".include?(map[y-1][x])
        graph[[x, y, "V"]] << [x, y-1, "V", 1]
      end

      if y < map.size - 1 && ".SE".include?(map[y+1][x])
        graph[[x, y, "V"]] << [x, y+1, "V", 1]
      end
    end
  end
end

dist[[start[0], start[1], "H"]] = 0

queue << [0, start[0], start[1], "H"]

until queue.empty?
  cost, *node = queue.pop

  graph[node].each do |neighbour|
    alt = cost + neighbour.last

    if alt < dist[neighbour[0..2]]
      dist[neighbour[0..2]] = alt
      paths[neighbour[0..2]] = [node]
      queue << [alt, neighbour[0], neighbour[1], neighbour[2]]
    elsif alt == dist[neighbour[0..2]]
      paths[neighbour[0..2]] << node
    end
  end
end

puts "Part 1"
puts [dist[[stop[0], stop[1], "H"]], dist[[stop[0], stop[1], "V"]]].min

current = if dist[[stop[0], stop[1], "H"]] > dist[[stop[0], stop[1], "V"]]
  [stop[0], stop[1], "V"]
else
  [stop[0], stop[1], "H"]
end

def visit_tile(current, visited_tiles, paths, start)
  return if current == [start[0], start[1], "H"]

  next_tiles = paths[current]
  next_tiles.each do |tile|
    visit_tile(tile, visited_tiles, paths, start)
    visited_tiles << tile[0..1]
  end
end

visited_tiles = Set.new
visit_tile(current, visited_tiles, paths, start)
puts "Part 2"
puts visited_tiles.count + 1

if ENV["VISUALIZE"]
  puts "\033c"
  map = map.map(&:chars)
  visited_tiles.each do |(x, y, _d)|
    print "\033[H"
    map[y][x] = "\e[38;2;255;0;0m@\e[0m"
    puts map.map(&:join).join("\n")
    sleep 0.1
  end
end

__END__
#############################################################################################################################################
#.............#.#.......#.....#.......#.....#.....#...#...#.............#...................#...#.........#.....#.....#...........#........E#
#.#########.#.#.#.###.#.###.#.#.#.#####.###.#.###.#.#.#.#.#.#######.###.#.#.#####.#########.###.#.###.###.###.#.###.###.#######.#.#.###.###.#
#.....#.....#.#.#.#.......................#.....#.#.#...#.......#...#.#.#.....#...#...#.........#...#...#.....#...#.....#.#...#.#.....#...#.#
#.#####.#####.#.#.#.#######.###.#####.#.#.#######.#.#####.#.###.#.###.#.###.###.###.###.###.#######.###.#########.#.#####.#.#.#.#####.###.#.#
#.#.....#.....#...#.....#...#...#.....#.#...#.....#.#.......#.#.#.#...#.....#...#.....#...#.#.....#.#.......#...#.#.........................#
###.#########.#########.#.###.###.#####.#.#.#.###.#.#.###.#.#.#.#.#.#######.#.#######.###.#.#.#.###.#.###.#.###.#.#######.#.#.###.#.#.#.###.#
#...#.......#.........#.#.#...#.#.......#.#.#...#.....................#.....#.......#.....#.#.#.....#.#...#.....#.....#...#.#...#.#.#.#.#...#
#.###.#####.#########.#.###.###.#.#######.#.###.###.#.###.#.###.#.#.#.#.###.#######.#.#####.#.#######.#.#.#####.#####.#.###.###.#.#.###.#.###
#.....#...#...#.....#...#...#...#.......#.#...#.....#...#...#...#.#.#...............#.#.....#.#...#...#...............#.#...#...............#
#######.#.###.#.###.###.#.###.#.#.###.#.#.###.#######.#.#.#.#.###.#.#######.#.#######.###.#.#.#.#.#.#####.#.#.#.#.#######.#####.#.#########.#
#...#...#.....#.#.#.#.#.....................#...#.#...#.......#...#...#...#...#.....#...#.#.#...#.#...#...#.#.#.#.#.............#.#.........#
#.#.#.#########.#.#.#.#.#.#####.###.###.###.###.#.#.#.###.#.###.#######.#.###.#.###.###.###.#.#######.#.#####.#.#.###.#.#.#.#.#.#.#.#########
#.#...#.........#.....#.......#.....#.#.....#...#.#.#...........#.....#.#...#.#.#.#.#.....#.#.#.......#.#...#...#.....#...#...........#.....#
#.#####.#######.#########.###.#######.#######.###.#.#.###.#.###.#.###.#.###.###.#.#.#####.#.#.#.#.#####.#.#.###########.###.#.#####.#.#.###.#
#.#.........#.#.#.............#.......#.......#...#.....#.....#.#...#.#.#.#.......#...#.#...#.#.#.#...#...#.....#.......#...#.#.......#...#.#
#.#########.#.#.#.#############.#####.#.#########.#####.#.###.#.#.###.#.#.###.#######.#.#.#.#.#.###.#.###.#####.#.#####.#.###.###.###.###.#.#
#.#.....#...#.#.#.#.....#.......#.....#.....#...#.....#.....#.#...#...........#.#.....#.#.#.#.#.....#...#.#...#...#...#.#.....#...#.....#.#.#
#.#.###.#.###.#.#.#.###.#.#######.#########.#.#.#####.#####.###.###.#.#######.#.#.#####.#.#.#.#########.#.#.#.###.#.#.###.#.#.#.#.#######.#.#
#...#...#.....#...#.#...#...#...#...#.....#...#.....#.....#...#...#.#.#...#...#.#...#.......#.#.......#.#.#.#...#.#.#.......#.#.#.........#.#
#####.#######.#####.#.#####.#.#####.#.#.#.###.#####.#####.###.#####.#.#.#.#.###.###.#######.#.#####.###.#.#.###.###.#######.###.#.#########.#
#...#.#.#...#.#.....#.....#.#.....#...#.#...#...#...#...#...#.....#.#.....#...#...#.#.....#.#.....#...#.#.#.#.#.....#.......#...#.......#...#
#.#.#.#.#.#.#.###.#.#.###.#.#####.###.#.###.#.#.#.###.#.#.#######.#.###.#.###.#.###.#.###.#.#####.###.#.###.#.#######.#######.###.#.###.#.###
#.#...#...............#.#.#.....#...#.#.#.#...#.#.#...#.#.#.......#...#.#.....#...#.....#.#...#.......#.....#.......#.........#...#...#.#...#
#.#####.###.#.#.###.#.#.#.#.#.#.#.#.#.#.#.#####.#.#.###.#.#.#.#####.#.#.#.#######.#######.#####.#####.###.#.#.#.#################.###.#####.#
#.#.#...#.#.#...#...#...#...#.#...#...#.#.....#.#...#...#.#.#.#...#.#.#.#.#.......#.#...#.#.....#...#.#.#...#.#.......#.........#...#...#...#
#.#.#.###.#.#####.#####.#####.#######.#.#.###.#.#####.###.#.###.#.#.#.#.#.#.#.###.#.#.#.#.#.#####.#.#.#.#####.#####.#.#.#.#.###.#.#.###.#.###
#.#.......#.....#.....#...#.....#.....#.#...#...#...#.....#.....#.#.#.#.#...#...#.#...#.#...#.....#.#.#.....#.#.....#.#.#...#.#.#.#.....#...#
#.#######.#####.#.###.###.#####.###.###.#####.#####.#####.#######.###.#.#######.#.#.#.#.#####.#####.#.#.###.###.#####.#.#.###.#.#.#####.###.#
#...#.#...#...#.....#...#.....#...#...#.....#.......#.....#.........#.#.....#...#...#.............#.#.#...#.#...#...#.#.#.#...#...#...#...#.#
###.#.#.###.#.###.#####.#####.#.#.#.#######.#########.#########.###.#.#.###.#.#####.#.#############.#.###.#.#.###.###.###.###.###.#.#.###.#.#
#...#.#.#...#...#...........#.#.#.........#.#...#.....#...#.....#.#.#...#.#.#.#.....#.#.....#.......#.....#...#.........#...#.....#.#.....#.#
#.###.#.#.###.###.#####.#.###.#####.#####.#.#.#.#.#####.#.#.###.#.#.#.#.#.#.#.#.#####.###.#.#.###.#####.#.#########.###.###.#.#####.#######.#
#...#.#.#.#.#.#.......#.#...#.....#.....#.#...#.#.....#.#...#...#.#.#.#.#.....#.#...#...#.#.#.#...........#.......#...#.....#.....#.#.....#.#
#.#.#.#.#.#.#.#.#####.#.###.#####.#######.#####.#####.#.#####.###.#.#.#.###.###.#.#.###.###.#.#########.###.#####.#.#.#######.###.#.#.#####.#
#.............#...#.#.#.....#...#...#...#.....#.......#.....#.#...#.......#.#...#.#...#.....#.....#...........#...#.#.........#.#...#.......#
#.###.#########.#.#.#.#####.#.#####.#.#.#.###.#############.#.###.###.###.###.###.###.#####.#####.#.###.#####.#.###.###########.#######.#.###
#.#...#.....#.......#...#...#.......#.#.#...#.........#.....#...#...#...#...#...#...#.....#.#...#.......#...#.#...#...#.......#.......#.#...#
#.#####.###.#.#########.#.###.#.#.#.#.#.###.#####.###.#.#######.###.###.###.###.###.###.#.#.###.#########.#.###.#.###.#.#####.#.#####.#.###.#
#.#...#...#...#.........#.#...#.#.#.#.#.....#.......#.#.#.#...#...#.#...#.....#.......#.#.#...#.....#.....#...#.#.#...#...#.#.#.#...#.#.#...#
#.#.#.###.#####.#########.#.###.#.#.#.#######.#####.#.#.#.#.#.###.#.#.###.#######.#.#.#.#####.#.###.#.#######.###.#.#####.#.#.#.#.###.#.#.###
#.#.#...#...#.#.........#.#...#.#...#...#...#.#...#.#...#...#...#.#.#.#.........#...#.#.....#...#...#...#...#.....#.#.....#.#...#.......#...#
#.#.###.###.#.#########.#.###.#.###.###.#.#.#.#.###.#####.#####.#.#.#.#####.###.###.#####.#######.#####.#.#.#######.#.#####.#####.#########.#
#.#...#.....#.......#...#.......#.....#.#.#.#.#.#.......#.#.#...#...#.#...#...#...#.....#.#...#...#...#...#.#.....#.#.#...........#.....#...#
#.###.#######.###.#.#.#.#####.#.###.#.#.#.###.#.#.#####.#.#.#.#.###.#.#.#.#######.#####.#.#.#.#.###.#.###.#.#.#.###.#.#.###########.###.#.###
#...#.#.........#.#.#.....#...#.........#.......#.....#.#.#.#.#.#...#...#.......#.....#...#.#...#...#...#...#.#.#...#.#.........#...#.#.#...#
#.#.#.#####.#.#.#.#.#####.#.#############.#####.#####.#.#.#.#.###.#############.#.#.###.###.#####.#####.#.###.#.#.###.#########.#.#.#.#.###.#
#.#.#.#.....#...#.#.#.....#.#...#...#...#.#.......#...#.#...#.#...#.....#.....#.#.#.#...#...#.....#.....#.#.#.#.#...#.#.......#.............#
#.#.#.#.#####.#####.#.#######.#.#.#.#.#.#.#.#.#####.#####.###.#.#.#.###.#.###.#.#.#.#.###.#####.###.#####.#.#.#.###.#.#.#.#####.#.#.#.#####.#
#.#...#.#.#...#.....#...#.....#...#.#.#...#.#...#...#.....#...#...#...#.......#.#.#.....#.#.....#.....#...#...#...#.#.#.#.....#.#.#.#.....#.#
#.#####.#.#.#.###.#.###.#.#########.#.#########.#.###.#.###.#####.###.#####.###.#.#######.#.#.###.#####.#########.#.#.#.#####.#.#.#.###.###.#
#.#.....#.#.#.....#.#...#.#...#.#.....#.........#.....#...#.#...#.....#.#.....#.#...#...#.#...#...#...............#...#...#...#.#.#...#.#...#
#.#.#.#.#.#.#.#######.#.#.#.#.#.#.#.#.#.#######.###.#.#.#.#.#.#.#.#.###.#.###.#.#####.#.#.###.#.###.#####.#######.#######.#.###.#.#.#.###.###
#.#.#...#.#.#.......#.#.#...#.#.#.#.#.#...#...#...#...#.#...#.#...#.....#.#...#...#...#.#...#.#...#.#.....#.....#.#.#.....#.....#.#.#...#...#
#.###.#.#.#.#.#.###.#.#######.#.#.###.###.#.#.###.#####.#.#.#.#####.#.#.#.#.#####.#.###.###.#.###.#.#.#####.###.#.#.#.###########.#.###.###.#
#...#.#.#.....#.#...#.#.......#.#...#.#...#.#...#.#...#.#...#.#.....#.#...#.....#.#.#.....#.#.#...#.#...#...#.#...#.#.......#...............#
###.#.#.#####.#.#.#.#.#.#######.###.#.#.#######.#.#.#.#.#####.#.#####.###.#.###.#.#.#.###.#.#.#.###.#.#.###.#.#####.#####.###.#####.#.#######
#.#...#...#...#.#.#.#...#.............#...#...#...#.#.#.....#.#...#.#.....#.#...#...#.#...#...#...#.#.....#...........#...#...#...#...#.#...#
#.###.#.#.#.#####.#####.#####.#.#######.#.#.#.#.#####.#####.#.#.#.#.#.#######.#.#####.#.#.#.#######.#.###.#######.#####.###.###.#.#.###.#.#.#
#...#.....#.....#.......#...#.#.....#.#.#...#.#.....#.#...#...#.#.#.#.#.....#.#...#.#.#...#.#.....#.#...#.#...#...#.....#.#.................#
#.###.#########.#.###.#.#.#.#####.#.#.#.#####.#####.#.#.#.#######.#.#.#.#.#.#.###.#.#.#.###.#.###.#.#####.#.#.#####.#####.#######.#.#.#####.#
#.....#.#...#...#.#.#.#...#.......#.#...#.....#...#.#.#.#.#.......#.#.#.#.#...#.#...#.#.#...#.#.#.#.....#...#.#.....#...#...#...#...#...#...#
###.#.#.#.#.#.###.#.#.#############.#.###.#.###.###.#.#.#.#.#.#####.#.###.#####.###.#.###.###.#.#.#.###.#.###.#.#####.#.###.#.#.###.###.#.###
#...#...#.#...#.....#.....#.....#...#...#.....#.#...#...#.#.#.#.....#...#...#.......#.....#.....#.#...#.#...#...#.#...#...#...#.#...#.#.#...#
#.###.#.#.#######.###.###.###.###.#####.#####.#.#.#####.#.#.#.###.#.###.#.#.#####.#####.###.###.#.###.#.###.#####.#.#.###.###.#.#.#.#.#.#.#.#
#.#.....#...#.......#.#.#...#.....#.....#...#.#.......#.#...#...#.#.....#.#.....#...#.....#.#...#.#.#.#...#...#.....#...#...#...........#.#.#
#.###.#####.#.#####.#.#.###.#.#.###.###.###.#.#######.#########.#.#############.###.#.###.#.#.###.#.#.###.###.#####.###.###.###.#.#.#####.#.#
#.#.......#...#.....#...#...#...#...........#.....#.#...........#...............#...#.#.#.#.......#.....#.#.#.#...#.#...#...#...#.#...#...#.#
#.#.#.#.#.#####.#####.#.#.#####.###########.###.#.#.###############.#########.#######.#.#.#.#.#####.#####.#.#.#.#.###.###.###.###.#.#.#.#.#.#
#.#...#.#...#.#.....#...#.#...#.....#.....#.....#.#...#.....#.......#.......#.#.......#...#.#.....#.#.....#.....#...#.#.#.#.#...#.#.....#.#.#
#.###.#.###.#.#####.#####.#.#.#####.###.#.###.###.#.#.#.###.#.###.#.#.#####.###.#######.###.#####.###.#############.#.#.#.#.#.#.#.#######.#.#
#...#.#...#.#.....#.......#...#.....#...#.#...#...#.#.....#...........#.#.....#...#.........#...#.....#...........#...#...#...#.#.....#.#...#
#.###.###.#.#####.#########.###.#####.###.#.###.#########.#####.#####.#.#####.###.#.#########.#.#######.#.#######.#.###.#######.#####.#.#.#.#
#.#...#...#.....#.#.............#.....#...#.#.#.#.....#...#...#.#...#.#.....#.#...#.#...#...#.#.........#...#.....#.#...............#.#...#.#
#.#.###.#.#####.#.#.#############.#########.#.#.#.###.#.#####.#.#.#.#######.#.#.#####.#.#.#.#.#####.#####.#.#.#####.#.#########.#####.#.#.#.#
#...#...#.#...#...#.#...#.......#.....#.......#...#...#...#...#.#.#.......#.#.#.......#.#.#.......#...#...#...#.......#.....#...............#
#.###.#.###.#.#####.#.#.#.#.###.#.###.#.###########.###.#.#.###.#.#####.###.#.#######.#.#.#.#########.#.###############.###.#####.###.#.#.#.#
#...#.#...#.#...#...#.#...#.....#...#.#.#...#.....#.#.#...#...#.#.....#.....#.......#.#.#.....#.....#.#.#...........#...#...#.........#.#.#.#
###.#.#.#.#.###.#.###.#####.#.#######.#.#.#.#.###.#.#.#.#####.#.###.#####.#.#######.###.#####.#.###.#.#.###.#######.#.###.#.#.#####.#.#.#.#.#
#...#.#.#...#.#...#.#...#.#...#.......#.#.#.#.#...#.#...#.....#.....#.....#...#.......#.#...#.#.#.....#...#.#.#.......#.......#...#.#...#...#
#.###.#.#####.#.###.#.#.#.###.#.#.###.#.#.#.#.#.###.#.#####.#.#.#####.#######.#######.#.###.#.#.#.#######.#.#.#.###.###########.###.#.###.###
#...#.#.#.......#...#.#.....#.#.#.#.....#.#.#.#...#.#...#...#.#...#...#...........#.#.#...#...#.#.#.....#...#.....#.......#.#.......#.#.....#
#####.#.###.###.#.#.#.#.###.#.###.#####.#.###.###.#.###.#.###.#.#.#.###.#.#.#####.#.#.#.#.#####.###.###.###########.#####.#.#.#######.#.#.#.#
#.....#...#...#.#.#...#...#.......#.....#...#...#.#.#.....#.#.#.#.#...#...#.......#...#.#...#...#...#...#.............#...#.#.....#...#...#.#
#.#####.#.###.#.#.#######.#######.#.#######.###.#.#.#######.#.#.#.###.###.#########.###.#.#.#.#.#.###.###.#############.###.#####.###.###.#.#
#.#...#...#...#...#.#.....#...#...#...........#...#.#...#...#.#.#...#.#...........#...#...#.#.#.#.#.#...#...........#...#.......#.#.....#.#.#
#.#.#.#.#######.###.#.#.###.#.#.###.#.#####.###.#.#.#.#.#.#.#.#.#.###.#.###.###.#.###.###.#.#.###.#.###.#.#.#######.#.###.#.#####.#.#.###.#.#
#.#.#...#.....#...#.#.#.#...#.#.#...#.....#.#...#.#...#.#.#.#...#.#...#.#...#...#.#.#.#...#.#.........#.#.#...#...#.#.#...#.#.....#.#.....#.#
#.#.###.###.#.###.#.#.###.###.#.#.###.###.#.#.###.#####.###.#####.#.###.#.###.###.#.#.###.#.###.###.###.#.###.#.#.###.#####.#.#####.#.#####.#
#...#.......#.......#.#...#...#.#...#...#.#.#.#.#.....#...#.#.....#.#...#.#...#.#.#.#...#.#.#...#...#...#.#...#.#.#...#...#.......#.......#.#
#.###.#########.#.###.#.###.#.#####.###.#.#.#.#.#####.#.#.#.#.#####.#.###.#.###.#.#.###.###.#.###.###.#.#.#.#.#.#.#.###.#.#######.###.#####.#
#.#...#.#.....#.#.#...#.#...#.....#.#...#...#.#.......#.#.#.......#.#...#.#.#.#...#...#.....#.......#.#.#...#.#.#...#...#.......#...........#
#.###.#.#.#.#.#.#.#.###.###.###.#.#.#####.#.#.#######.###.#######.#.#.#.#.#.#.#.#####.###############.#######.#.###.#.#########.#.###.#######
#.....#.........#.#...........#.#.#.........#.......#.....#...#...#...#.#.#...#.#.........#...........#.......#.#...#...#...#.#.........#...#
#######.###.#####.#######.###.#.###########.#######.#####.#.#.#####.#.#.#.#.#.#.###.#######.#.#########.#####.#.###.###.#.#.#.###.#####.#.#.#
#...............#.....#...#...#...#.......#.......#.....#.#.#.....#.#.#...#.#.#.............#...........#...#.#...#.#...#.#.........#.#.#.#.#
#.###.#.#.#.#.#.#####.#.###.#####.#.###.###.###########.#.#.#####.###.###.#.#.###.#.#####################.#.#.###.###.###.#######.#.#.#.#.#.#
#.....................#.#...#.....#...#.....#.......#...#.#.#...#...#...#...#.....#...#...........#.....#.#.#.#.....#...#.........#...#.#.#.#
###.#.#.###.#.#.#.#####.#.###.#######.#######.#####.#.###.#.###.###.#.#######.#######.#######.#.#.#####.#.#.#.#.###.###.#.#####.#.###.#.#.#.#
#...#.#.....#.#...#.....#.....#.....#.......#...#.#...#...#...#.......#.......#.....#.#.........#...#...#.#.#.....#...#.#.#...#.#...#.#...#.#
#.###.#########.###.#######.#.#.#.#########.###.#.#####.#####.#######.#.#.#####.#.###.#.###########.#.###.#.#####.#.###.#.#.#.###.#.#######.#
#.#...#.......#.#.......#.#.#.#.#.........#.#...#...#...#...#.......#.#.#.....#.........#...#...#.....#...#.#.....#.#...#.#.#...#.#.#.......#
#.#.#.#.#####.#.#.#####.#.#.#.#.#####.#####.#.###.###.###.#.#######.#.#.#.###.#.#########.#.#.#.#.#####.###.#.#####.#.#####.###.#.#.#.#####.#
#.#.....#.#...#.#.....#.#...#.......#.#.....#.#.......#...#.....#.#.#.#.#.#.#.#.......#...#...#.#.#...#.#...#.....#.#.....#...#...#.#.#.....#
#.###.###.#.###.###.###.###########.#.#.#####.#####.#####.#####.#.#.###.#.#.#.#########.#######.###.#.#.#.#######.#.#####.#.#.###.#.#.#####.#
#...........#.#.........#...#...#...#.......#.#...#...#...#...#...#...#.#.#.............#.#.....#...#...#.............#...#.#...#...#.....#.#
#.#####.#.###.###.#######.#.#.#.#.###########.#.#.###.#.#####.#.#####.#.#.###############.#.#####.#######.###.#######.#.#######.###.#.###.###
#.#.#...#...#.....#.......#...#.#.....#.#.....#.#.#...#...#...#.#.....#.#...#.............#.....#.#.....#...#.#...#...#...#.....#.#.#...#...#
#.#.#.#####.#######.###########.#####.#.#.#####.#.###.###.#.###.#.#####.###.#######.#.#########.#.#####.###.#.#.#.#######.#.#####.#.###.###.#
#.#.#.......#.......#...#.....#...#.#...#...#...#...#.....#.....#.....#.#...#.....#.#.......#...#...#.....#.#.#.#.#.......#...#.#.........#.#
#.#.#.#####.#.#######.#.###.#####.#.###.###.#.#####.#######.#########.#.#.###.###.#########.#.#####.#.#####.#.#.#.#.#.#####.#.#.#.#.#######.#
#.#.......#...........#.....#.....#.......#.#.#...#.#.........#.....#...#.#...#.............#.#.....#.#...#.#...#.........#.#.#...#.......#.#
#.#.#.###.#.###.#.#########.#.#####.#######.#.#.###.#########.#.###.#####.#.###############.#.###.###.#.#.#.#.###########.###.#.###.#####.#.#
#...#...#...#...#.#...#.....#...#...#.......#...#...#.....#...#.#...#.#...#.........#.......#...#.#.....#.#.#.#...#.....#.#...#...#...#.#.#.#
#####.#.###.#.###.#.#.#.#####.#.#.###.#######.#.#.###.###.#.###.#.###.#.#.#####.###.###########.#.#####.#.#.###.#.#####.#.#.#.#####.#.#.#.#.#
#...#.#.....#...#.#.#...#.....#.#...#.......#.#...#...#...#.......#...#.#.........#.........#...#.....#.#.......#.....#.....#.#.......#.#.#.#
#.###.#####.###.#.#.#####.#.###.#####.#####.#.#.###.###.#########.#.###.#####.###.#########.#.#######.###############.#######.#.#######.#.#.#
#.....#.......#.#.#.......#.#...#.........#.#.#.....#.#...#...#...#.........#...#.........#.#.......#.......#.....#.#...#.....#.....#...#...#
#.###.#####.#.#.#.#.#.#.###.#.###.#####.#.#.#.#####.#.###.#.#.#.#####.#########.###########.#######.#######.###.#.#.###.#####.#####.#.#.###.#
#...........#...#.#.#.#.#...#.....#.....#.#.#.#...#...#.#...#.#.....#...#.....#...........#.......#.......#.....#.#...#.#...#.#...#...#.....#
#####.#######.###.#.###.#.#########.#.###.#.#.#.#.#.#.#.#####.#####.#####.###.#.#########.#.#####.#######.###.#.#.#.#.#.#.#.#.#.#.#.#.###.###
#.#...#...........#.....#.#.......#.#...#.#...#.#...#...#.....#.......#...#...#.#.......#.#...#.#.......#.....#.#...#.#...#.#.#.#.#.#...#...#
#.#.#.#.#.###.###.###.#####.###.###.###.#.#.###.#######.#.###.#####.#.#.###.#####.#####.#.###.#.#######.#######.###.#######.#.#.#.###.#.###.#
#...#...#...#...#.....#.....#...#...#.#...#.#...#.#...#.#...#.#...#.....#...#...#...#.#.#...#.#.......#...#.....#.#.#.....#.#.#.#...#.#.#...#
#.#########.#.#.#######.###.#.###.###.#####.#.#.#.#.#.#.###.###.#.#######.###.#.#.#.#.#.#.#.#.#.#####.###.#.###.#.#.#.###.#.###.###.#.#.#.###
#.#.......#.#.#...#.....#...#...#.#.....#.#.#...#...#.....#.....#.#.....#.#...#.#.#.#.....#.#.#.....#...#.#.....#...#.#...#...#...#.....#...#
#.###.###.#.#.###.#.#.###.#.###.#.#.#.#.#.#.#.#####.###########.#.#.###.#.#.###.#.#.#######.#.#####.#.#.#.###.#.#.###.#.#####.###.###.#.#.#.#
#...#...#.#.#...#.#.#.............................#.....#.....#.#...#...#.#.#.....#.....#.............#.....#.#.#.#...#.......#...#.....#...#
###.###.#.#.#.#.#.#.#.#####.#.#.#####.#.#.#####.#.#####.#.###.#.#####.###.#.#.#####.###.#.#########.###.#####.#.#.#.###########.#####.#.#.###
#.#...#.#.#.....#.#...........#...#.....#.#.............#...#.#.#...#...#...#.#...#.#.#.#...#...........#.....#.#.#.............#.....#...#.#
#.###.###.###.###.###.#.#########.#.#.###.#.###########.#.#.#.#.#.#.###.#####.#.#.#.#.#.#####.#.###.###.#.#####.#.###.#####.###.###.#.#.#.#.#
#.................#.....#.........#.#.....#...#.....#.........#...#.#...#...#...#.........................#.....#.#.#.#...#...#.............#
#.#######.###.#####.#.###.#########.#.###.#.#.#.###.#.#.#.#.#.#######.#.#.#.#####.#######.#.###.#.#####.###.#####.#.#.#.#.#######.#.#.#.#.#.#
#.....#...#...#...#.#...#...........#...#.#.#.....#.#.#.#.#.#.......#.....#...#.#.#.......#.#...#.#.......#.#.....#.#...#.....#...#...#.#.#.#
#.#.###.###.#.#.#.#.#.#.#############.#.#.#.#######.#.#.###.#######.###.#####.#.#.#.#######.###.#.#.#.#####.#.#####.#########.#.###.#.#.#.#.#
#.#.....#.#.....#.#.....#.....#.......#.#...#...#...#.#.#...#.....#...........#...#.#.....#...#.#.#.#.....#.#.........#.....#.#.#.#.#.....#.#
#.#######.#######.#####.#.###.#.#.###.#.#####.#.#.###.#.#.###.#.#######.#####.#.###.#.###.#.#.#.#.#######.#.#########.#.###.#.#.#.#.#####.#.#
#.....#.....#...#.....#.#.#.#.....................#...#...#...#.#.......#.....#.....#.#.#.#.#.#.#.#.......#.#.......#.#...#.#...#.#...#...#.#
#.#.#.###.#.#.#.###.###.#.#.#.#####.#.###.#########.#.#####.###.#.#####.#.#.#########.#.#.#.#.###.#.#####.#.#.#####.#####.#.#####.###.#.#.#.#
#S..#.....#...#...#.......#.........#.....#.........#.........#.......#...#.............#...#.......#.....#.......#.......#.............#...#
#############################################################################################################################################
