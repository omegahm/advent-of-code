input = <<~INPUT.strip
###############
#...#...#.....#
#.#.#.#.#.###.#
#S#...#.#.#...#
#######.#.#.###
#######.#.#...#
#######.#.###.#
###..E#...#...#
###.#######.###
#...###...#...#
#.#####.#.###.#
#.#...#.#.#...#
#.#.#.#.#.#.###
#...#...#...###
###############
INPUT

require "rb_heap"

input = DATA.read
map = input.split("\n").map(&:chars)

graph = {}
startx, starty, stopx, stopy = nil

map.each_with_index do |row, y|
  row.each_with_index do |elem, x|
    if elem == "S"
      startx, starty = [x, y]
    elsif elem == "E"
      stopx, stopy = [x, y]
    end

    if ".SE".include?(elem)
      graph[[x, y]] ||= []
      graph[[x, y]] << [x-1, y] if x > 0 && ".SE".include?(row[x-1])
      graph[[x, y]] << [x+1, y] if x < row.size - 1 && ".SE".include?(row[x+1])
      graph[[x, y]] << [x, y-1] if y > 0 && ".SE".include?(map[y-1][x])
      graph[[x, y]] << [x, y+1] if y < map.size - 1 && ".SE".include?(map[y+1][x])
    end
  end
end

def shortest_path(graph, startx, starty)
  dist = {}
  paths = {}

  queue = Heap.new { |a, b| a[0] < b[0] }

  dist[[startx, starty]] = 0
  queue << [0, startx, starty]

  until queue.empty?
    cost, *node = queue.pop

    (graph[node] || []).each do |(nx, ny)|
      alt = cost + 1
      neighbour_node = [nx, ny]

      if alt < dist.fetch(neighbour_node, Float::INFINITY)
        dist[neighbour_node] = alt
        paths[neighbour_node] = node
        queue << [alt, *neighbour_node]
      end
    end
  end

  [dist, paths]
end

dist, paths = shortest_path(graph, startx, starty)

def solve(dist, jump_size)
  result = 0

  dist.keys.each do |(x, y)|
    (-jump_size..jump_size).each do |dx|
      (-jump_size..jump_size).each do |dy|
        cheat_cost = dx.abs + dy.abs
        next if cheat_cost == 0 || cheat_cost > jump_size

        next unless dist.include?([x + dx, y + dy])

        cost = dist[[x, y]] - dist[[x + dx, y + dy]]
        result += 1 if cost - cheat_cost >= 100
      end
    end
  end

  result
end

puts "Part 1"
puts solve(dist, 2)

puts "Part 2"
puts solve(dist, 20)

if ENV["IMAGE"]
  require "rmagick"

  height = map.size
  width = map[0].size

  path = []
  current = [stopx, stopy]
  until current.nil?
    path << current
    current = paths[current]
  end

  data = Array.new(width) do |x|
    Array.new(height) do |y|
      if map[y][x] == "#"
        "black"
      elsif map[y][x] == "."
        "white"
      elsif "SE".include?(map[y][x])
        "blue"
      end
    end
  end

  img_list = Magick::ImageList.new
  img = Magick::Image.new(width, height)

  data.each_with_index do |row, y|
    row.each_with_index do |color, x|
      img.pixel_color(y, x, color)
    end
  end
  img_list << img.dup

  path.reverse.each_with_index do |(x, y), idx|
    print "\33[2K\rGenerating animation: #{((idx+1).fdiv(path.size) * 100).round(1)}% done (#{idx+1} frames)..."
    img.pixel_color(x, y, "red")
    img_list << img.dup if idx % 10 == 0
  end

  image_name = "20.gif"

  puts "\nWriting #{image_name}..."
  img_list.write(image_name)

  puts "Optimizing #{image_name}..."
  `gifsicle --scale=8 --optimize=3 --lossy=200 --delay=1 --loopcount=0 --threads=4 --output=#{image_name} #{image_name}`
end

__END__
#############################################################################################################################################
#...#.......#.....#.......#.....###.......#...###...............###...#...#...#...........#.........###...#.......#.....#.....#.....#...#...#
#.#.#.#####.#.###.#.#####.#.###.###.#####.#.#.###.#############.###.#.#.#.#.#.#.#########.#.#######.###.#.#.#####.#.###.#.###.#.###.#.#.#.#.#
#.#.#.....#...#...#...#...#...#...#.....#...#...#.............#...#.#.#.#...#.#...#.......#...#.....#...#...#.....#...#.#.#...#...#.#.#.#.#.#
#.#.#####.#####.#####.#.#####.###.#####.#######.#############.###.#.#.#.#####.###.#.#########.#.#####.#######.#######.#.#.#.#####.#.#.#.#.#.#
#.#.#...#.....#...#...#.....#.#...#...#...#.....#...#...#.....#...#.#.#...#...#...#.....#.....#.....#.......#.#...###.#...#...#...#.#.#...#.#
#.#.#.#.#####.###.#.#######.#.#.###.#.###.#.#####.#.#.#.#.#####.###.#.###.#.###.#######.#.#########.#######.#.#.#.###.#######.#.###.#.#####.#
#.#.#.#.#...#...#.#...#.....#.#...#.#.#...#...#...#...#.#...#...#...#...#.#...#...#.....#.........#.#...#...#.#.#...#.#.......#...#.#.#...#.#
#.#.#.#.#.#.###.#.###.#.#####.###.#.#.#.#####.#.#######.###.#.###.#####.#.###.###.#.#############.#.#.#.#.###.#.###.#.#.#########.#.#.#.#.#.#
#.#...#.#.#.#...#.....#...###.#...#.#.#.#.....#.....#...#...#.....#.....#...#.#...#.#...###.....#.#...#.#...#.#.#...#.#...#...#...#.#.#.#...#
#.#####.#.#.#.###########.###.#.###.#.#.#.#########.#.###.#########.#######.#.#.###.#.#.###.###.#.#####.###.#.#.#.###.###.#.#.#.###.#.#.#####
#.....#.#.#.#...........#...#.#.....#.#.#...#...#...#.#...#.....#...###...#.#.#...#...#...#...#.#...#...#...#.#.#...#.#...#.#.#.#...#.#.....#
#####.#.#.#.###########.###.#.#######.#.###.#.#.#.###.#.###.###.#.#####.#.#.#.###.#######.###.#.###.#.###.###.#.###.#.#.###.#.#.#.###.#####.#
#.....#...#...###...#...#...#...#.....#...#.#.#.#...#...#...###...#...#.#.#.#.#...#.......#...#.#...#...#.#...#...#...#...#.#.#.#.....#...#.#
#.###########.###.#.#.###.#####.#.#######.#.#.#.###.#####.#########.#.#.#.#.#.#.###.#######.###.#.#####.#.#.#####.#######.#.#.#.#######.#.#.#
#.......#...#...#.#.#...#.......#.#...#...#.#.#...#...#...###...#...#...#.#.#.#...#.#.....#...#.#.....#.#.#.###...#.......#.#.#.#.......#...#
#######.#.#.###.#.#.###.#########.#.#.#.###.#.###.###.#.#####.#.#.#######.#.#.###.#.#.###.###.#.#####.#.#.#.###.###.#######.#.#.#.###########
#.....#...#...#.#.#...#.........#...#...#...#.#...###.#.....#.#.#...#...#...#...#.#.#.#...#...#...#...#...#...#...#.#.......#...#.#...#...###
#.###.#######.#.#.###.#########.#########.###.#.#####.#####.#.#.###.#.#.#######.#.#.#.#.###.#####.#.#########.###.#.#.###########.#.#.#.#.###
#.#...#.....#.#.#...#.#...###...#...#...#.#...#.......#.....#.#...#...#.#.....#.#.#.#.#.....#.....#.....#...#.###.#.#.#...........#.#.#.#...#
#.#.###.###.#.#.###.#.#.#.###.###.#.#.#.#.#.###########.#####.###.#####.#.###.#.#.#.#.#######.#########.#.#.#.###.#.#.#.###########.#.#.###.#
#.#...#...#.#.#.....#...#...#...#.#...#...#.#.........#...###.#...#...#...#...#...#.#.......#.###.....#.#.#...#...#...#.....###.....#...#...#
#.###.###.#.#.#############.###.#.#########.#.#######.###.###.#.###.#.#####.#######.#######.#.###.###.#.#.#####.###########.###.#########.###
#.#...#...#...#...........#.#...#...###...#...###...#.#...#...#...#.#.......#.......###.....#...#...#.#.#...#...#...........#...#...#.....###
#.#.###.#######.#########.#.#.#####.###.#.#######.#.#.#.###.#####.#.#########.#########.#######.###.#.#.###.#.###.###########.###.#.#.#######
#.#...#...#...#.#.........#...#...#...#.#.###...#.#.#.#.#...#.....#.........#.#...#...#...#.....#...#.#.#...#...#.#.....###...#...#...###...#
#.###.###.#.#.#.#.#############.#.###.#.#.###.#.#.#.#.#.#.###.#############.#.#.#.#.#.###.#.#####.###.#.#.#####.#.#.###.###.###.#########.#.#
#...#.###.#.#...#...#...#.....#.#...#...#.#...#.#.#...#.#.#...#...#...#.....#.#.#.#.#.###.#...###...#...#.......#...#...#...#...###.....#.#.#
###.#.###.#.#######.#.#.#.###.#.###.#####.#.###.#.#####.#.#.###.#.#.#.#.#####.#.#.#.#.###.###.#####.#################.###.###.#####.###.#.#.#
#...#...#...#.....#...#...#...#.#...#.....#.#...#...#...#.#.###.#.#.#.#.....#.#.#.#.#...#.#...#...#.#.....#.....#.....#...#...#...#.#...#.#.#
#.#####.#####.###.#########.###.#.###.#####.#.#####.#.###.#.###.#.#.#.#####.#.#.#.#.###.#.#.###.#.#.#.###.#.###.#.#####.###.###.#.#.#.###.#.#
#.#...#.....#...#.......###.....#...#...#...#...#...#...#.#...#.#.#.#.#.....#.#.#...#...#.#...#.#.#.#...#...###...#.....#...#...#...#.....#.#
#.#.#.#####.###.#######.###########.###.#.#####.#.#####.#.###.#.#.#.#.#.#####.#.#####.###.###.#.#.#.###.###########.#####.###.#############.#
#.#.#...#...###.....#...#.....#...#...#.#...#...#...#...#.#...#.#.#.#.#...#...#...#...###...#.#.#.#...#.#.....#...#.#.....###.#.............#
#.#.###.#.#########.#.###.###.#.#.###.#.###.#.#####.#.###.#.###.#.#.#.###.#.#####.#.#######.#.#.#.###.#.#.###.#.#.#.#.#######.#.#############
#.#...#.#...#...#...#.###...#.#.#.#...#...#.#...#...#...#.#...#.#.#.#.....#.#...#.#.#...#...#.#.#.#...#...#...#.#.#.#.###.....#.......###...#
#.###.#.###.#.#.#.###.#####.#.#.#.#.#####.#.###.#.#####.#.###.#.#.#.#######.#.#.#.#.#.#.#.###.#.#.#.#######.###.#.#.#.###.###########.###.#.#
#.....#...#...#...#...#...#.#.#.#...#...#.#.#...#...#...#...#...#.#.....###.#.#...#...#.#.#...#.#.#.#...#...###.#.#.#.....#...........#...#.#
#########.#########.###.#.#.#.#.#####.#.#.#.#.#####.#.#####.#####.#####.###.#.#########.#.#.###.#.#.#.#.#.#####.#.#.#######.###########.###.#
#.........#...#...#.....#...#...#.....#.#...#.....#.#.#...#.#.....#...#.#...#.#.......#...#...#.#...#.#...#...#.#.#.#.......###.........#...#
#.#########.#.#.#.###############.#####.#########.#.#.#.#.#.#.#####.#.#.#.###.#.#####.#######.#.#####.#####.#.#.#.#.#.#########.#########.###
#.........#.#.#.#...#...#...#...#.#.....#...###...#.#.#.#.#.#.#...#.#.#.#...#...#...#...#.....#.###...#...#.#...#...#.#...#...#.#.......#...#
#########.#.#.#.###.#.#.#.#.#.#.#.#.#####.#.###.###.#.#.#.#.#.#.#.#.#.#.###.#####.#.###.#.#####.###.###.#.#.#########.#.#.#.#.#.#.#####.###.#
#.........#.#...###.#.#.#.#.#.#...#.......#.#...#...#.#.#...#.#.#...#.#.###...#...#.#...#.#...#...#...#.#...#.......#...#...#...#.....#.#...#
#.#########.#######.#.#.#.#.#.#############.#.###.###.#.#####.#.#####.#.#####.#.###.#.###.#.#.###.###.#.#####.#####.#################.#.#.###
#...#.....#.#.....#.#.#...#...#.........#...#.#...#...#.....#.#...#...#...###.#...#.#...#.#.#...#...#...#...#.....#...........#...#...#.#...#
###.#.###.#.#.###.#.#.#########.#######.#.###.#.###.#######.#.###.#.#####.###.###.#.###.#.#.###.###.#####.#.#####.###########.#.#.#.###.###.#
#...#.###.#.#...#...#.....#...#.......#.#...#...###.....#...#.#...#.....#.#...#...#.....#.#...#...#.#.....#.......#.......#...#.#...###...#.#
#.###.###.#.###.#########.#.#.#######.#.###.###########.#.###.#.#######.#.#.###.#########.###.###.#.#.#############.#####.#.###.#########.#.#
#...#.#...#...#.....#.....#.#.#...#...#.....#.......#...#...#.#.....###.#.#...#.......###.#...###.#.#.#.............#.....#.....#.......#...#
###.#.#.#####.#####.#.#####.#.#.#.#.#########.#####.#.#####.#.#####.###.#.###.#######.###.#.#####.#.#.#.#############.###########.#####.#####
#...#.#.#.....###...#.#.....#...#.#...#.......#...#.#.......#...#...#...#.#...#.....#...#...#...#.#.#...#...#.........###.....#...#.....#...#
#.###.#.#.#######.###.#.#########.###.#.#######.#.#.###########.#.###.###.#.###.###.###.#####.#.#.#.#####.#.#.###########.###.#.###.#####.#.#
#.....#...#.......#...#.........#.....#.......#.#...#.........#...###.#...#...#...#.#...#####.#...#.#.....#...#.....#...#.#...#.#...#.....#.#
###########.#######.###########.#############.#.#####.#######.#######.#.#####.###.#.#.#######.#####.#.#########.###.#.#.#.#.###.#.###.#####.#
#...###...#.......#.#...........#.......###...#...#...#.....#...#...#...#...#...#.#...#######.......#...........#...#.#.#.#.....#.....#.....#
#.#.###.#.#######.#.#.###########.#####.###.#####.#.###.###.###.#.#.#####.#.###.#.###############################.###.#.#.#############.#####
#.#...#.#.#.......#.#.......#...#.#.....#...#...#...#...###...#...#.....#.#.....#.###############################.....#...#...........#.....#
#.###.#.#.#.#######.#######.#.#.#.#.#####.###.#.#####.#######.#########.#.#######.#########################################.#########.#####.#
#...#.#.#.#.....#...#.....#...#...#.......#...#.......###...#...#.....#.#...#...#.#####################...#...#####E#.....#.........#.......#
###.#.#.#.#####.#.###.###.#################.#############.#.###.#.###.#.###.#.#.#.#####################.#.#.#.#####.#.###.#########.#########
#...#.#.#...###...###...#.#...............#.........#...#.#.###...#...#.#...#.#.#...#################...#...#.....#.#...#.#...#.....###...###
#.###.#.###.###########.#.#.#############.#########.#.#.#.#.#######.###.#.###.#.###.#################.###########.#.###.#.#.#.#.#######.#.###
#...#.#.#...#...#...#...#.#.#.......#...#...#.....#...#...#.......#...#.#...#.#...#.#......S#########...#.....#...#.#...#...#...###...#.#...#
###.#.#.#.###.#.#.#.#.###.#.#.#####.#.#.###.#.###.###############.###.#.###.#.###.#.#.#################.#.###.#.###.#.#############.#.#.###.#
#...#...#...#.#.#.#.#.#...#...#...#...#...#.#...#.#...#...#...#...###.#.###...###...#...#...#...#...#...#...#...###...#.......#...#.#.#.#...#
#.#########.#.#.#.#.#.#.#######.#.#######.#.###.#.#.#.#.#.#.#.#.#####.#.###############.#.#.#.#.#.#.#.#####.###########.#####.#.#.#.#.#.#.###
#...#.....#...#...#...#.....#...#.......#.#...#.#.#.#.#.#.#.#.#.....#...#.....#...#...#...#...#.#.#.#.#.....#...#...###.....#.#.#.#.#...#.###
###.#.###.#################.#.#########.#.###.#.#.#.#.#.#.#.#.#####.#####.###.#.#.#.#.#########.#.#.#.#.#####.#.#.#.#######.#.#.#.#.#####.###
###...###.#.............#...#.........#.#...#...#...#...#...#.......#...#...#.#.#.#.#.......###...#...#.....#.#.#.#.#...#...#...#...#...#...#
#########.#.###########.#.###########.#.###.#########################.#.###.#.#.#.#.#######.###############.#.#.#.#.#.#.#.###########.#.###.#
#.........#.#...........#...#.....#...#...#.........#...........#.....#.#...#.#.#.#.....#...#.....#.........#.#.#.#.#.#.#.#.....#...#.#.....#
#.#########.#.#############.#.###.#.#####.#########.#.#########.#.#####.#.###.#.#.#####.#.###.###.#.#########.#.#.#.#.#.#.#.###.#.#.#.#######
#.#...#...#.#...........#...#...#...#...#...........#.#.........#.....#.#...#.#.#...###.#...#...#.#...........#...#...#...#...#.#.#.#.......#
#.#.#.#.#.#.###########.#.#####.#####.#.#############.#.#############.#.###.#.#.###.###.###.###.#.###########################.#.#.#.#######.#
#...#...#...###...#.....#.....#.......#.....#...#...#.#.....#.....#...#...#.#.#.#...#...#...#...#...#...#.....#...#...#.......#.#.#.#.....#.#
###############.#.#.#########.#############.#.#.#.#.#.#####.#.###.#.#####.#.#.#.#.###.###.###.#####.#.#.#.###.#.#.#.#.#.#######.#.#.#.###.#.#
#...............#.#.....#...#.#...#.........#.#...#.#.#.....#...#...#...#...#...#...#.#...###.....#...#...###...#...#.#.......#.#.#.#...#.#.#
#.###############.#####.#.#.#.#.#.#.#########.#####.#.#.#######.#####.#.###########.#.#.#########.###################.#######.#.#.#.###.#.#.#
#.#.............#.....#...#.#...#...#.....###.#.....#.#.......#.......#...#...#...#.#.#.#...#...#.....#...........#...#...#...#...#.#...#...#
#.#.###########.#####.#####.#########.###.###.#.#####.#######.###########.#.#.#.#.#.#.#.#.#.#.#.#####.#.#########.#.###.#.#.#######.#.#######
#...#...........#...#.......#.........#...#...#.......#.......#...#.....#...#...#.#.#.#.#.#.#.#.#...#...#...#.....#.....#...###...#...###...#
#####.###########.#.#########.#########.###.###########.#######.#.#.###.#########.#.#.#.#.#.#.#.#.#.#####.#.#.#################.#.#######.#.#
#...#.............#.........#.#.......#.....#...#...#...#.....#.#.#.#...#...#...#.#...#...#...#...#.......#.#...#.........#...#.#.#...#...#.#
#.#.#######################.#.#.#####.#######.#.#.#.#.###.###.#.#.#.#.###.#.#.#.#.#########################.###.#.#######.#.#.#.#.#.#.#.###.#
#.#...................#...#...#.....#.........#...#...###.#...#.#.#.#.###.#.#.#.#...#...#...#...#.........#.....#.#.....#...#...#...#.#...#.#
#.###################.#.#.#########.#####################.#.###.#.#.#.###.#.#.#.###.#.#.#.#.#.#.#.#######.#######.#.###.#############.###.#.#
#.#.................#.#.#.#.......#...............#.....#.#.#...#.#.#.#...#...#...#...#.#.#...#...#.....#.........#...#.............#.....#.#
#.#.###############.#.#.#.#.#####.###############.#.###.#.#.#.###.#.#.#.#########.#####.#.#########.###.#############.#############.#######.#
#...#.....#...#.....#...#.#.....#.#.......#.......#.#...#.#.#.#...#.#.#.....#.....#...#...#.......#...#.....#...#...#...........###...#...#.#
#####.###.#.#.#.#########.#####.#.#.#####.#.#######.#.###.#.#.#.###.#.#####.#.#####.#.#####.#####.###.#####.#.#.#.#.###########.#####.#.#.#.#
#...#...#...#...#...#...#...#...#...#...#...#...###.#.###.#.#.#...#.#.#...#.#.#...#.#.....#.....#.###.....#.#.#...#.#...#.......#...#...#.#.#
#.#.###.#########.#.#.#.###.#.#######.#.#####.#.###.#.###.#.#.###.#.#.#.#.#.#.#.#.#.#####.#####.#.#######.#.#.#####.#.#.#.#######.#.#####.#.#
#.#.....#.......#.#...#...#...#.......#.#.....#...#.#.#...#...#...#.#.#.#.#.#...#.#.#.....###...#.........#.#.....#.#.#.#.........#.....#.#.#
#.#######.#####.#.#######.#####.#######.#.#######.#.#.#.#######.###.#.#.#.#.#####.#.#.#######.#############.#####.#.#.#.###############.#.#.#
#.......#...#...#.###...#.#...#.#.......#.....#...#.#.#...#...#.#...#...#...#.....#.#...#...#.....#...#...#.......#.#.#.........#.....#.#...#
#######.###.#.###.###.#.#.#.#.#.#.###########.#.###.#.###.#.#.#.#.###########.#####.###.#.#.#####.#.#.#.#.#########.#.#########.#.###.#.#####
#.......#...#.....#...#...#.#.#.#.....#...#...#.#...#.###.#.#...#.........#...#...#.#...#.#.....#...#...#.#.......#.#.........#.#...#.#.....#
#.#######.#########.#######.#.#.#####.#.#.#.###.#.###.###.#.#############.#.###.#.#.#.###.#####.#########.#.#####.#.#########.#.###.#.#####.#
#...#.....#...#.....#.....#.#...###...#.#.#...#.#.#...#...#.###...###.....#...#.#...#.###.....#.#.......#...#.....#.#.........#.....#.....#.#
###.#.#####.#.#.#####.###.#.#######.###.#.###.#.#.#.###.###.###.#.###.#######.#.#####.#######.#.#.#####.#####.#####.#.###################.#.#
#...#.#.....#...#...#...#...###...#...#.#.#...#.#.#.###...#...#.#...#.#...#...#.#.....#.....#.#.#.....#.......#...#...#...#...#...#.....#.#.#
#.###.#.#########.#.###.#######.#.###.#.#.#.###.#.#.#####.###.#.###.#.#.#.#.###.#.#####.###.#.#.#####.#########.#.#####.#.#.#.#.#.#.###.#.#.#
#.....#.........#.#.#...#...#...#.....#.#.#...#.#.#.#...#.#...#.#...#...#.#.###.#.#...#...#.#.#.#...#...........#.......#...#...#...#...#.#.#
###############.#.#.#.###.#.#.#########.#.###.#.#.#.#.#.#.#.###.#.#######.#.###.#.#.#.###.#.#.#.#.#.#################################.###.#.#
#.....#.........#.#...#...#...#...#...#.#.#...#.#.#.#.#.#.#...#.#.#...#...#.#...#.#.#...#.#.#.#.#.#...#...#.........#.....#...#...#...###...#
#.###.#.#########.#####.#######.#.#.#.#.#.#.###.#.#.#.#.#.###.#.#.#.#.#.###.#.###.#.###.#.#.#.#.#.###.#.#.#.#######.#.###.#.#.#.#.#.#########
#.#...#.....#.....#...#...#.....#.#.#.#.#.#...#.#.#...#.#.#...#.#.#.#.#.###...###.#...#.#.#.#.#.#...#...#.#.......#...###...#...#...###.....#
#.#.#######.#.#####.#.###.#.#####.#.#.#.#.###.#.#.#####.#.#.###.#.#.#.#.#########.###.#.#.#.#.#.###.#####.#######.#####################.###.#
#.#.........#.#.....#.#...#.#.....#.#...#...#.#.#.....#.#.#.#...#...#.#.........#.#...#.#.#...#.#...#...#.......#.......#...#.........#...#.#
#.###########.#.#####.#.###.#.#####.#######.#.#.#####.#.#.#.#.#######.#########.#.#.###.#.#####.#.###.#.#######.#######.#.#.#.#######.###.#.#
#.#...........#.....#...#...#...#...#.....#...#.#.....#...#...#.......#.....#...#.#.#...#.###...#.....#.....###.......#.#.#.#.#.......###.#.#
#.#.###############.#####.#####.#.###.###.#####.#.#############.#######.###.#.###.#.#.###.###.#############.#########.#.#.#.#.#.#########.#.#
#.#.#...............#...#.....#.#...#...#.......#.............#.......#...#.#...#.#.#...#...#...#.....#...#.......###.#...#...#.###...#...#.#
#.#.#.###############.#.#####.#.###.###.#####################.#######.###.#.###.#.#.###.###.###.#.###.#.#.#######.###.#########.###.#.#.###.#
#...#...#...........#.#...#...#.#...###.........#.............#.......#...#.....#...#...#...#...#.###.#.#.#.....#...#.#...#...#.....#...#...#
#######.#.#########.#.###.#.###.#.#############.#.#############.#######.#############.###.###.###.###.#.#.#.###.###.#.#.#.#.#.###########.###
#...###...#.........#...#...#...#...#...#.......#.............#...#...#.............#...#.###...#...#.#.#.#...#.#...#.#.#...#...#...#.....###
#.#.#######.###########.#####.#####.#.#.#.###################.###.#.#.#############.###.#.#####.###.#.#.#.###.#.#.###.#.#######.#.#.#.#######
#.#.#...#...#.....#...#.#.....#.....#.#...#...#.....#.....#...#...#.#...#...........#...#...#...#...#...#.#...#.#.###.#...#.....#.#.#.....###
#.#.#.#.#.###.###.#.#.#.#.#####.#####.#####.#.#.###.#.###.#.###.###.###.#.###########.#####.#.###.#######.#.###.#.###.###.#.#####.#.#####.###
#.#...#.#.#...###...#.#.#...#...#.....#...#.#.#.#...#...#.#.###...#.#...#.#.....###...#.....#...#.#####...#...#.#...#...#.#.#...#.#.#...#...#
#.#####.#.#.#########.#.###.#.###.#####.#.#.#.#.#.#####.#.#.#####.#.#.###.#.###.###.###.#######.#.#####.#####.#.###.###.#.#.#.#.#.#.#.#.###.#
#.....#...#...#...#...#.#...#.###.......#...#.#.#...#...#.#.#.....#.#...#.#.#...#...#...#.......#...#...#...#.#...#.###.#.#...#.#.#.#.#...#.#
#####.#######.#.#.#.###.#.###.###############.#.###.#.###.#.#.#####.###.#.#.#.###.###.###.#########.#.###.#.#.###.#.###.#.#####.#.#.#.###.#.#
#.....#...#...#.#...#...#...#.#.........#...#.#...#.#...#...#.......###.#...#...#...#...#.#.....#...#.#...#...#...#...#.#.....#.#.#.#...#...#
#.#####.#.#.###.#####.#####.#.#.#######.#.#.#.###.#.###.###############.#######.###.###.#.#.###.#.###.#.#######.#####.#.#####.#.#.#.###.#####
#.#.....#.#...#.....#.#...#...#.......#...#...#...#.....#...#...........#...#...###.#...#...#...#...#...###.....#...#.#...#...#...#...#.....#
#.#.#####.###.#####.#.#.#.###########.#########.#########.#.#.###########.#.#.#####.#.#######.#####.#######.#####.#.#.###.#.#########.#####.#
#.#...###...#.#.....#.#.#.............#...#...#.........#.#.#.......#.....#.#.....#.#.#.......#...#...#...#.#...#.#...###...###...#...#...#.#
#.###.#####.#.#.#####.#.###############.#.#.#.#########.#.#.#######.#.#####.#####.#.#.#.#######.#.###.#.#.#.#.#.#.#############.#.#.###.#.#.#
#...#...#...#.#.....#.#...#...#...#.....#.#.#.#.......#.#.#.........#.###...#...#.#.#.#.#...#...#...#...#.#...#.#...............#.#.#...#...#
###.###.#.###.#####.#.###.#.#.#.#.#.#####.#.#.#.#####.#.#.###########.###.###.#.#.#.#.#.#.#.#.#####.#####.#####.#################.#.#.#######
###...#.#.....#.....#.###...#...#.#.#.....#.#.#.....#...#.#.....#...#...#.....#.#.#...#.#.#.#.....#.#...#...#...#...........#.....#...#.....#
#####.#.#######.#####.###########.#.#.#####.#.#####.#####.#.###.#.#.###.#######.#.#####.#.#.#####.#.#.#.###.#.###.#########.#.#########.###.#
#...#.#.#.......#...#.#...........#.#.....#.#.#...#.....#...###.#.#...#.......#.#.....#...#...#...#.#.#.#...#...#.........#...#...#...#.#...#
#.#.#.#.#.#######.#.#.#.###########.#####.#.#.#.#.#####.#######.#.###.#######.#.#####.#######.#.###.#.#.#.#####.#########.#####.#.#.#.#.#.###
#.#...#.#.#.....#.#.#.#...#...#...#.#.....#.#.#.#.#...#.#.......#...#...#...#.#.#...#.#.......#...#.#.#.#.#.....#...#...#.......#...#...#...#
#.#####.#.#.###.#.#.#.###.#.#.#.#.#.#.#####.#.#.#.#.#.#.#.#########.###.#.#.#.#.#.#.#.#.#########.#.#.#.#.#.#####.#.#.#.###################.#
#.......#...###...#...###...#...#...#.......#...#...#...#...........###...#...#...#...#...........#...#...#.......#...#.....................#
#############################################################################################################################################
